{
  "id": "ai--evaluation-and-testing--t29-canary-deployments",
  "version": 1,
  "subject": "AI",
  "subcategory": "Evaluation & Testing",
  "course_id": "ai--evaluation-and-testing",
  "chapter_id": "ai--evaluation-and-testing--ch06-testing-in-production",
  "title": "Canary Deployments",
  "emoji": "ğŸ§ª",
  "color": "#EF4444",
  "description": "Testing AI changes on a small slice of traffic before full rollout.",
  "difficulty": "Advanced",
  "published": true,
  "story": {
    "hook": {
      "visual": "ğŸ¤",
      "text": "You changed the system prompt. Eval scores look great. You deploy to 100% of users. Within an hour, support tickets spike 300%. A canary would have caught it at 1%."
    },
    "buildup": {
      "visual": "ğŸ”¬",
      "text": "Canary deployment sends a small percentage of traffic (1-5%) to the new version while the rest stays on the old version. Monitor both and compare quality metrics in real time."
    },
    "discovery": {
      "visual": "ğŸ’¡",
      "text": "Compare canary vs control on: error rate, latency, user satisfaction signals (thumbs up/down, abandonment), and automated quality scores. Only promote to full traffic if canary is equal or better."
    },
    "twist": {
      "visual": "âš¡",
      "text": "Canaries catch problems that eval sets miss â€” real users are more creative, more adversarial, and more diverse than any test set. The 1% of real traffic is your most honest eval."
    },
    "climax": {
      "visual": "ğŸ",
      "text": "Canary + automatic rollback = safety net. If the canary's error rate exceeds the control by X%, automatically revert. No human needed at 3 AM."
    },
    "punchline": {
      "visual": "ğŸ¬",
      "text": "Test in production, but test responsibly. Let the canary sing â€” or sound the alarm."
    }
  },
  "quiz": {
    "question": "What is the primary benefit of canary deployments for AI?",
    "options": [
      "They eliminate the need for eval sets",
      "They test changes on real traffic at small scale before full rollout",
      "They make deployments faster",
      "They reduce model training costs"
    ],
    "correct": 1
  }
}
