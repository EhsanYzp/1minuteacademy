{
  "id": "ai--ai-agents--t21-cost-management",
  "version": 1,
  "subject": "AI",
  "subcategory": "AI Agents",
  "course_id": "ai--ai-agents",
  "chapter_id": "ai--ai-agents--ch06-reliability-and-safety",
  "title": "Cost Management",
  "emoji": "ğŸ¤–",
  "color": "#EF4444",
  "description": "Controlling how much an agent spends on LLM calls.",
  "difficulty": "Premium",
  "published": true,
  "story": {
    "hook": {
      "visual": "ğŸ’¸",
      "text": "Your agent ran overnight. It got stuck in a loop: 200 LLM calls, each with a full context window. Your API bill for one user's query: $47."
    },
    "buildup": {
      "visual": "ğŸ“Š",
      "text": "Agent costs compound: each loop iteration is an LLM call. With tool results injected into the context, each call uses more tokens than the last. 20 iterations can cost 50x a single chat message."
    },
    "discovery": {
      "visual": "ğŸ’¡",
      "text": "Budget controls: max iterations per run, max tokens per session, max cost per user per day. Log costs per agent run and alert on outliers."
    },
    "twist": {
      "visual": "âš¡",
      "text": "Use cheaper models for simple tool routing and expensive models for complex reasoning. A tiered approach â€” fast model picks the tool, strong model synthesizes the final answer â€” cuts costs dramatically."
    },
    "climax": {
      "visual": "ğŸ",
      "text": "Set hard limits: max 15 iterations, max 50K tokens per session. Kill runs that exceed the budget. It's better to fail fast than to burn money on a stuck agent."
    },
    "punchline": {
      "visual": "ğŸ¬",
      "text": "Agents with no budget limits are agents with no future. Set caps, log costs, tier your models."
    }
  },
  "quiz": {
    "question": "How can you reduce agent costs without reducing capability?",
    "options": [
      "Remove all tools",
      "Use cheaper models for simple routing and expensive models for complex reasoning",
      "Never use agents",
      "Increase the context window size"
    ],
    "correct": 1
  }
}
